#include <ros/ros.h>

#include <moveit/move_group_interface/move_group_interface.h>

int main(int argc, char** argv){
	ros::init(argc, argv, "hand_demo");

	ros::AsyncSpinner spinner(1);
	spinner.start();

	moveit::planning_interface::MoveGroupInterface mgi("right_hand");

	std::vector< std::vector<double> > targets {
{-0.0269406832032, -0.0174762224604, -0.0155052566307, 0.00406546657021, 0.0270278720198, 0.00107588789507, 0.0713472303627, -0.0561375834463, 0.956066336738, 1.71559687314, 0.605798820346, 0.0481768126873, 1.21456105945, 1.67789607635, 0.256468631034, -0.00972523202721, 1.14864117526, 1.59762003456, 0.603041348448, 0.0722342762795, 1.17199202415, 0.256353472698, 0.504543425211, 0.729583778281},
{-0.0314346105214, -0.0175172001702, -0.112980361904, 0.00154975774881, 0.00635949929876, 0.017214206321, 0.0530873361916, -0.0574480343918, 1.14450154777, 1.71907208626, 0.585326356371, 0.173850319334, -0.060920767129, 0.418643165174, -0.00888459460857, 0.00372115882531, 1.41827975044, 1.64912155347, 0.53217496244, 0.113993284581, 1.11881280104, 0.260884253353, 0.576042878415, 0.71847645969},
{-0.0274634931264, -0.0141603671557, 0.161082656882, 1.42930964604, 1.10959199989, 0.0613256100187, 0.024831974487, -0.276724509518, -0.0204478827907, -0.00186999562714, 0.00236565711867, -0.0675500344307, -0.112815471774, 0.306136380894, -0.00829228830133, -0.0983138031463, -0.0793680053938, 0.149599650171, -0.0167105992212, -0.497948516748, 0.999599026595, 0.26097455214, 0.49984968898, 1.03091836459}

	};

	while(ros::ok()){
		for( auto& t : targets ){
			mgi.setJointValueTarget(t);
			mgi.move();
			ros::Duration(4).sleep();
		}
		mgi.setNamedTarget("open");
		mgi.move();
	}

	return 0;
}
